<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrailFinder</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div th:replace="fragments/topnav :: navbar"></div>

<br/>
<h3>Trail details:</h3>

<div class="table-header">
    <table id="trail-table" class="table-bordered table table-hover table-secondary">
        <tr id="header-row">
            <td><b>Name</b></td>
            <td><b>Type</b></td>
            <td><b>Difficulty</b></td>
            <td><b>Address</b></td>
            <td><b>Zip Code</b></td>
            <td><b>Temperature</b></td>
        </tr>
        <tr id="foundtrail-row" th:each="trail : ${trailDetails}">
            <td th:text="${trail.key.name}"></td>
            <td th:text="${trail.key.trailType}"></td>
            <td th:text="${trail.key.difficulty}"></td>
            <td th:text="${trail.key.address}"></td>
            <td th:text="${trail.key.zipCode}"></td>
            <td th:text="*{trail.value + 'Â°F'}"></td>
        </tr>
    </table>
</div>

<br/>
<h3>Alert details:</h3>

<div class="table-header">
    <table id="alert-table" class="table-bordered table table-hover table-secondary">
        <tr id="header" class="table-default">
            <td><b>Alert ID</b></td>
            <td><b>Trail</b></td>
            <td><b>Alert Description</b></td>
            <td><b>User</b></td>
        </tr>
        <tr id="alert-row" th:each="alert : ${foundAlerts}">
            <td th:text="${alert.alertID}"></td>
            <td th:text="${alert.trail.name}"></td>
            <td th:text="${alert.alertText}"></td>
            <td th:text="${alert.user.name}"></td>
        </tr>
    </table>
</div>

<a th:href="@{/Login}" id="status-indicator" class="status-indicator">
    Status: <span id="status-text">Loading...</span>
    <span id="username-text"></span>
</a>

<script th:src="@{/js/LoginStatus.js}"></script>
<script th:src="@{/js/TrailAutocomplete.js}"></script>

</body>
</html>